<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact-US</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      .error-msg {
        display: none;
        font-weight: 500;
        color: red;
        font-size: 11px;
        margin-bottom: -10px;
      }
      html {
        overflow: hidden;
      }
      body {
        font-family: "Poppins";
        height: 100vh;
        display: flex;
        justify-content: center;
        width: 100vw;
        overflow: hidden;
      }
      .container {
        display: flex;
        flex-direction: column;
        background-color: white;
        gap: 4rem;
        max-height: 100%;
        width: 100%;
        padding: 2rem;
        position: relative;
        &::after {
          content: "";
          position: absolute;
          height: 15rem;
          z-index: 1;
          width: 25rem;
          top: 0%;
          left: -20%;
          background-image: radial-gradient(ellipse 40% 120% at top, #b797f6 -150%, rgba(255, 255, 255, 0) 100%);
          filter: blur(20px);
        }
        &::before {
          content: "";
          position: absolute;
          height: 30rem;
          z-index: 1;
          width: 25rem;
          top: 10%;
          left: -70%;
          background-image: radial-gradient(ellipse 40% 80% at top, #f3c2fe -30%, rgba(255, 255, 255, 0) 100%);
          filter: blur(45px);
        }
      }
      .heading {
        display: flex;
        flex-direction: column;
        gap: 10px;
        align-self: center;
        text-align: center;
      }
      .heading h1 {
        font-size: 28px;
        font-weight: 600;
      }
      .heading span {
        font-size: 14px;
        font-weight: 500;
        color: #868e96;
      }
      .contact-us {
        align-self: center;
        display: flex;
        flex-direction: column;
        gap: 20px;
        max-height: 100%;
        width: 100%;
        overflow-y: auto;
        &::-webkit-scrollbar {
          width: 0px;
        }
      }
      .flname {
        display: flex;
        gap: 30px;
      }
      .fname,
      .lname {
        display: flex;
        flex-direction: column;
        gap: 10px;
        width: 100%;
      }
      .fname input,
      .lname input,
      .fields input,
      .text-area-message {
        width: 100%;
        height: 30px;
        border: 1px solid rgba(128, 128, 128, 0.328);
        box-shadow: 0 0 5px rgba(128, 128, 128, 0.158);
        border-radius: 4px;
        padding-left: 5px;
      }
      .fields {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .text-area-message {
        height: 100px;
      }
      .country-code {
        color: rgba(128, 128, 128, 0.609);
        border: none;
        border-radius: 0px;
        align-self: stretch;
        background-color: white;
      }
      .phone {
        display: flex;
        justify-content: start;
        border: none;
        border: 1px solid rgba(128, 128, 128, 0.328);
        box-shadow: 0 0 5px rgba(128, 128, 128, 0.158);
        height: 30px;
        align-items: center;
        border-radius: 5px;
        overflow: hidden;
        width: 100%;
      }
      .phone input {
        background-color: white;
        border: none;
        border-radius: 0px;
        height: 100%;
      }
      .notification input[type="checkbox"] {
        opacity: 0;
        cursor: pointer;
        left: -9000px;
        position: absolute;
      }
      .notification input[type="checkbox"] + .policy {
        margin-bottom: 1rem;
        color: rgba(86, 86, 88, 0.913);
        font-weight: 400;
        display: flex;
        position: relative;
        align-items: center;
        gap: 5px;
      }
      .notification input[type="checkbox"] + .policy::before {
        content: " ";
        height: 18px;
        width: 35px;
        cursor: pointer;
        background-color: rgba(128, 128, 128, 0.386);
        border-radius: 40px;
        margin-right: 3px;
      }
      .notification input[type="checkbox"] + .policy::after {
        content: " ";
        height: 17px;
        position: absolute;
        left: 1px;
        cursor: pointer;
        width: 16px;
        background-color: white;
        border-radius: 50%;
      }
      .notification input[type="checkbox"]:checked + .policy::after {
        left: 18px;
      }
      .notification input[type="checkbox"]:checked + .policy::before {
        background-color: rgba(72, 72, 224, 255);
      }
      .policy span {
        color: rgba(72, 72, 224, 255);
        font-weight: bold;
      }
      .btn {
        background-color: rgba(72, 72, 224, 255);
        color: white;
        border-radius: 5px;
        border: none;
        padding: 10px;
        transition: background-color 0.4s;
        &:hover {
          cursor: pointer;
          background-color: #5f5fe3;
        }
      }
      label {
        font-size: 13px;
        font-weight: 600;
      }
      .text-area-message {
        padding: 5px;
      }
      .policy a {
        color: #5f5fe3;
        font-weight: 600;
        &:hover {
          cursor: pointer;
          text-decoration: underline;
        }
      }
      input,
      textarea {
        &:focus {
          outline: none;
        }
      }
    </style>
  </head>
  <body>
    <main>
      <section class="container">
        <header class="heading">
          <h1>Contact sales</h1>
          <span
            >Aute magna irure deserunt veniam aliqua magna enim voluptate.</span
          >
        </header>
        <form class="contact-us">
          <div class="flname">
            <div class="fname">
              <label>First name</label>
              <input type="text" name="fname" />
              <p class="error-msg">Please enter your first name</p>
            </div>
            <div class="lname">
              <label>Last name</label>
              <input type="text" name="lname" />
              <p class="error-msg">Please enter your last name</p>
            </div>
          </div>
          <div class="fields">
            <label>Company</label>
            <input type="text" name="company" />
            <p class="error-msg">Please enter your company name</p>
          </div>
          <div class="fields">
            <label>Email</label>
            <input type="email" name="email" />
            <p class="error-msg">Please enter your email</p>
          </div>
          <div class="fields phone-number">
            <label>Phone number</label>
            <div class="phone">
              <select class="country-code" name="country-code">
                <option value="+1">US</option>
                <option value="+44">UK</option>
                <option value="+91">India</option>
                <option value="+61">Australia</option>
                <option value="+81">Japan</option>
              </select>
              <input type="number" class="phone" name="phone-number" />
            </div>
            <p class="error-msg">Please enter your phone number</p>
          </div>
          <div class="fields">
            <label>Message</label>
            <textarea class="text-area-message" name="user-message"></textarea>
          </div>
          <div class="notification">
            <input
              type="checkbox"
              class="toggle"
              id="check"
              name="agree-policy"
            />
            <label for="check" class="policy">
              By selecting this, you agree to out <a>privacy policy.</a>
            </label>
          </div>
          <button type="submit" name="submit-form" class="btn">
            Let's talk
          </button>
        </form>
      </section>
    </main>
  </body>
  <script>
    const submitBtn = document.querySelector(".btn");
    function isValidEmail(email) {
      const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
      return emailPattern.test(email);
    }
    function isValidPhoneNumber(phone, country) {
      const phonePatterns = {
        "+1": /^\d{10}$/,
        "+44": /^\d{11}$/,
        "+91": /^\d{10}$/,
        "+61": /^\d{10}$/,
        "+81": /^\d{10,11}$/,
      };
      return phonePatterns[country].test(phone);
    }
    const countrySelect = document.querySelector(".country-code");
    const phoneInput = document.querySelector('input[name="phone-number"]');
    const phonePlaceholders = {
      "+1": "1234567890",
      "+44": "07123456789",
      "+91": "9876543210",
      "+61": "0412345678",
      "+81": "09012345678",
    };
    countrySelect.addEventListener("change", function () {
      phoneInput.placeholder = phonePlaceholders[this.value];
    });
    phoneInput.placeholder = phonePlaceholders[countrySelect.value];

    submitBtn.addEventListener("click", function (e) {
      e.preventDefault();
      const firstName = document.querySelector('input[name="fname"]');
      const lastName = document.querySelector('input[name="lname"]');
      const company = document.querySelector('input[name="company"]');
      const email = document.querySelector('input[name="email"]');
      const phone = document.querySelector('input[name="phone-number"]');
      const checkbox = document.querySelector('input[name="agree-policy"]');
      const selectedCountry = document.querySelector(".country-code").value;
      const allInputs = [firstName, lastName, company, email, phone];
      allInputs.forEach((input) => {
        input.classList.remove("error");
        const errorMsg = input
          .closest(".fname, .lname, .fields, .notification")
          ?.querySelector(".error-msg");
        if (errorMsg) errorMsg.style.display = "none";
      });
      checkbox.closest(".notification").querySelector(".error-msg")?.remove();
      let isValid = true;
      if (!firstName.value.trim()) {
        firstName.classList.add("error");
        firstName.closest(".fname").querySelector(".error-msg").style.display =
          "block";
        isValid = false;
      }
      if (!lastName.value.trim()) {
        lastName.classList.add("error");
        lastName.closest(".lname").querySelector(".error-msg").style.display =
          "block";
        isValid = false;
      }
      if (!company.value.trim()) {
        company.classList.add("error");
        company.closest(".fields").querySelector(".error-msg").style.display =
          "block";
        isValid = false;
      }
      if (!email.value.trim()) {
        email.classList.add("error");
        email.closest(".fields").querySelector(".error-msg").style.display =
          "block";
        isValid = false;
      } else if (!isValidEmail(email.value.trim())) {
        email.classList.add("error");
        email.closest(".fields").querySelector(".error-msg").textContent =
          "Please enter a valid email-id";
        email.closest(".fields").querySelector(".error-msg").style.display =
          "block";
        isValid = false;
      }
      if (!phone.value.trim()) {
        phone.classList.add("error");
        phone.closest(".fields").querySelector(".error-msg").style.display =
          "block";
        isValid = false;
      } else if (!isValidPhoneNumber(phone.value.trim(), selectedCountry)) {
        phone.classList.add("error");
        phone
          .closest(".fields")
          .querySelector(".error-msg").textContent = `Please enter a valid ${
          countrySelect.options[countrySelect.selectedIndex].text
        } phone number`;
        phone.closest(".fields").querySelector(".error-msg").style.display =
          "block";
        isValid = false;
      }
      if (!checkbox.checked) {
        const errorMsg = document.createElement("p");
        errorMsg.className = "error-msg";
        errorMsg.textContent = "You must agree to the privacy policy";
        errorMsg.style.display = "block";
        checkbox.closest(".notification").appendChild(errorMsg);
        isValid = false;
      }
      if (isValid) {
        alert("Form submitted successfully!");
        document.querySelector(".contact-us").reset();
        phoneInput.placeholder = phonePlaceholders[countrySelect.value];
      }
    });
  </script>
</html>
